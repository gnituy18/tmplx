<!-- prettier-ignore -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Docs | Tmplx</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/modern-normalize@3.0.1/modern-normalize.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/styles/tokyo-night-dark.min.css"
    />
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.11.1/build/highlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
    <link rel="stylesheet" href="/style.css" />
  </head>
  <body>
    <nav>
      <h2>Tmplx Docs</h2>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#installing">Installing</a></li>
        <li><a href="#pages-and-routing">Pages and Routing</a></li>
        <li><a href="#tmplx-script">Tmplx Script</a></li>
        <li>
          <a href="#expression-interpolation">Expression Interpolation</a>
        </li>
        <li><a href="#state">State</a></li>
        <li><a href="#derived-state">Derived State</a></li>
        <li><a href="#handlers">Event Handler</a></li>
        <li>
          <h3>Dev Tools</h3>
          <ul>
            <li><a href="#syntax-highlight">Syntax Highlight</a></li>
          </ul>
        </li>
      </ul>
    </nav>
    <main>
      <h2 id="introduction">Introduction</h2>
      <p>
        Tmplx is a compile-time framework using Go for building state-driven web
        apps. It allows you to build UIs with React-like reactivity purely in
        Go.
      </p>
      <p>
        Embed Go code in HTML to define states and event handlers. Go manages
        backend logic while HTML defines the UI, all in one file. This creates a
        seamless integration, eliminating the mental context switch between
        backend and frontend development.
      </p>
      <p>HTML file is only thing you need</p>
      <h2 id="installing">Installing</h2>
      <pre><code tx-ignore>$ go install github.com/gnituy18/tmplx@latest</code></pre>
      <h2 id="pages-and-routing">Pages and Routing</h2>
      <p>
        You put all your html files into the pages directory that it can either
        be in your project or outside of your project.
      </p>
      <p>
        Tmplx uses <strong>filesystem-based routing</strong>. The route is the
        relative path of the HTML file inside the
        <strong>pages</strong> directory without the
        <code>.html</code> extension.
      </p>
      <p>
        If the file is named <code>index.html</code>, omit
        <code>index</code> (it serves the directory path). For a route like
        <code>/index</code>, place <code>index.html</code> in a directory named
        <code>index</code>.
      </p>
      <pre><code tx-ignore>pages/index.html → /
pages/about.html → /about
pages/index/index.html → /index
pages/admin/dashboard.html → /admin/dashboard</code>
      </pre>
      <p>
        There can be multiple file paths that map to the same route. Choose one
        style that fits your preference. Duplicate routes will cause compilation
        failure.
      </p>
      <pre><code tx-ignore>pages/login.html → /login
pages/login/index.html → /login</code>
      </pre>

      <p>
        <a href="https://pkg.go.dev/net/http#hdr-Patterns-ServeMux"
          >Wildcards</a
        >
        are supported out of the box using <code tx-ignore>{}</code> in
        directory or file names. Captured values can be used in initial states
        via tmplx comments. Wildcard names must be valid Go identifiers.
      </p>
      <pre><code tx-ignore>pages/user/{user_id}.html → /user/{user_id}</code>
      </pre>
      <p>
        Tmplx compiles all pages into a single Go file you can import into your
        Go project, so the pages directory can be outside your project, but
        keeping it inside is recommended.
      </p>

      <p>
        Default pages location: <code>./pages</code>. Change it with the
        <code>-pages</code> flag:
      </p>
      <pre><code tx-ignore>$ tmplx -pages="/some/other/location"</code></pre>

      <h2 id="tmplx-script">Tmplx Script</h2>
      <p>
        Tmplx lets you embed Go code directly in your HTML using a special
        <code>&lt;script&gt;</code> tag with <code>type="text/tmplx"</code>.
        Inside the tag, you write normal Go code to declare
        <a href="#state">state</a>, <a href="#derived-state">derived state</a>,
        <a href="#event-handler">event handlers</a>, and the special
        <a href="#init">init()</a> function.
      </p>
      <p>
        Each page or component HTML file may contain
        <strong>exactly one</strong> tmplx script. For pages, you can place it
        anywhere inside <code>&lt;head&gt;</code> or <code>&lt;body&gt;</code>.
        For components, place the tmplx script at the root of the file. Having
        multiple tmplx scripts will cause a compilation error.
      </p>
      <pre><code tx-ignore>&lt;!DOCTYPE html&gt;

&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;My Page&lt;/title&gt;

    &lt;script type="text/tmplx"&gt;
      ...
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ...
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

      <h2 id="expression-interpolation">Expression Interpolation</h2>
      <p>
        Embed Go expressions in HTML using {} for dynamic content. You can only
        place Go expressions in text nodes or attribute values; other placements
        cause parsing errors. text nodes output is HTML-escaped; attribute it is
        not escaped.
      </p>

      <p>
        Every expression is run once when the page is load or every component is
        rerender, so bemindful with every code you put in the interpolation like
        accessing database or run heavying loading functions.
      </p>
      <pre><code tx-ignore class="language-html">&lt;p class='{ strings.Join([]string{&quot;c1&quot;, &quot;c2&quot;}, &quot; &quot;) }'&gt;
 Hello, { user.GetNameById(&quot;id&quot;) }!
&lt;/p&gt;</code></pre>
      <pre>
        <code>&lt;p class=&quot;c1 c2&quot;&gt;
 Hello, tmplx!
&lt;/p&gt;</code>
      </pre>

      <p>
        You can add tx-ignore to disable Go expression interpolation for that
        specific node's attribute values and its text children, but not the
        element children.
      </p>

      <pre><code tx-ignore class="language-html">&lt;p tx-ignore&gt;
  { &quot;ignored&quot; }
  &lt;span&gt; { &quot;not&quot; + &quot;ignore&quot; } &lt;/span&gt;
&lt;/p&gt;</code>
      </pre>

      <pre><code tx-ignore class="language-html">&lt;p tx-ignore&gt;
  { &quot;ignored&quot; }
  &lt;span&gt; not ignored &lt;/span&gt;
&lt;/p&gt;</code></pre>

      <h2>Syntax Highlight</h2>
      <a href="https://github.com/gnituy18/tmplx.nvim">Neovim Plugin</a>
    </main>
  </body>
</html>
